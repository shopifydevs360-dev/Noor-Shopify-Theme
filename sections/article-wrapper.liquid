<style>
/* FORCE HEIGHT */
.featured-articles-scroll {
  height: 100vh;
  overflow: hidden;
  background: #fff;
}

.featured-articles-scroll .swiper {
  height: 100%;
}

.featured-articles-scroll .swiper-slide {
  display: flex;
  align-items: center;
}

.featured-article {
  display: grid;
  grid-template-columns: 1fr 1fr auto;
  gap: 4vw;
  padding: 0 6vw;
  width: 100%;
}

.featured-article img {
  width: 100%;
  max-width: 520px;
  display: block;
}

.featured-article h3 {
  font-size: clamp(28px, 3vw, 46px);
  line-height: 1.2;
}

.featured-counter {
  font-size: 14px;
  letter-spacing: 0.2em;
}
</style>

{% assign blog_object = blogs[section.settings.blog] %}

{% if blog_object and blog_object.articles.size > 0 %}

<div class="featured-articles-scroll" {{ section.shopify_attributes }}>
  <div class="swiper featuredArticlesSwiper-{{ section.id }}">
    <div class="swiper-wrapper">

      {% for article in blog_object.articles limit: 5 %}
        <div class="swiper-slide">
          <div class="featured-article">

            <div>
              {% if article.image %}
                <img
                  src="{{ article.image | image_url: width: 1200 }}"
                  alt="{{ article.title | escape }}">
              {% endif %}
            </div>

            <div>
              <h3>{{ article.title }}</h3>
              <a href="{{ article.url }}">Explore</a>
            </div>

            <div class="featured-counter">
              {{ forloop.index | prepend: '0' }}
            </div>

          </div>
        </div>
      {% endfor %}

    </div>
  </div>
</div>

<!-- LOAD SWIPER LOCALLY (NO THEME DEPENDENCY) -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@10/swiper-bundle.min.css">
<script src="https://cdn.jsdelivr.net/npm/swiper@10/swiper-bundle.min.js"></script>

<script>
document.addEventListener('shopify:section:load', initFeaturedArticles);
document.addEventListener('DOMContentLoaded', initFeaturedArticles);

function initFeaturedArticles() {
  if (typeof Swiper === 'undefined') return;

  new Swiper('.featuredArticlesSwiper-{{ section.id }}', {
    direction: 'vertical',
    slidesPerView: 1,
    speed: 900,
    mousewheel: true,
    allowTouchMove: false
  });
}
</script>

{% endif %}

{% schema %}
{
  "name": "Featured Articles Scroll",
  "settings": [
    {
      "type": "blog",
      "id": "blog",
      "label": "Select blog"
    }
  ],
  "presets": [
    {
      "name": "Featured Articles Scroll"
    }
  ]
}
{% endschema %}
