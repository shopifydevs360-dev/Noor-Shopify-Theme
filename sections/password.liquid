{% comment %}
  This section is used in the password template to render landing page shown
  when password protection is applied to a store. sss

  https://shopify.dev/docs/storefronts/themes/architecture/templates/password
{% endcomment %}
 {{ 'password.css' | asset_url | stylesheet_tag }}
<section class="password-section">
  <div class="password-background">
    {{ section.settings.background_image | img_url: 'master' | img_tag: alt: 'Password Background', class: 'password-bg-image'  }}
  </div>
  <div class="container-fluid">
  </div>
</section>
<h1>{{ section.settings.password_title }}</h1>

{% if section.settings.password_message %}
  <div class="password-message">
    {{ section.settings.password_message }}
  </div>
{% endif %}

{% if shop.password_message %}
  <p>{{ shop.password_message }}</p>
{% endif %}

{% form 'storefront_password' %}
  {% if form.errors %}
    {{ form.errors | default_errors }}
  {% endif %}

  <label for="password-input">
    {{ 'password.password' | t }}
  </label>

  <input type="password" name="password" id="password-input">

  <button type="submit">
    {{ 'password.enter' | t }}
  </button>
{% endform %}

{% schema %}
{
  "name": "t:general.password",
  "settings": [
    {
      "type": "image_picker",
      "id": "background_image",
      "label": "Background Image"
    },
    {
      "type": "text",
      "id": "password_title",
      "label": "Password Title",
      "default": "This shop is private"
    },
    {
      "type": "richtext",
      "id": "password_message",
      "label": "Password Message"
    }
  ]
}
{% endschema %}
