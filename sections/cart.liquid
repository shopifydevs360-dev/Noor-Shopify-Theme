<section class="cart-template">
  <div class="container">

    <form action="{{ routes.cart_url }}" method="post" novalidate>
      <div class="cart-layout">

        <!-- =====================
             LEFT COLUMN
        ====================== -->
        <div class="cart-left">

          <!-- Header -->
          <header class="cart-header">
            <h2 class="cart-heading">YOUR BAG</h2>

            {% assign free_shipping_threshold = 5000 %}
            {% assign remaining = free_shipping_threshold | minus: cart.total_price %}

            {% if remaining > 0 %}
              <p class="cart-shipping-text">
                You are {{ remaining | money }} away from Free Shipping
              </p>
            {% else %}
              <p class="cart-shipping-text success">
                You’ve unlocked Free Shipping
              </p>
            {% endif %}

            <!-- Progress bar -->
            <div class="shipping-progress">
              <span
                class="shipping-progress-bar"
                style="width: {{ cart.total_price | times: 100 | divided_by: free_shipping_threshold }}%;">
              </span>
            </div>
          </header>

          <!-- Cart items -->
          <div class="cart-items">

            {% for item in cart.items %}
              <div class="cart-item">

                <!-- Image -->
                <div class="cart-item-media">
                  <img
                    src="{{ item.image | image_url: width: 120 }}"
                    alt="{{ item.product.title }}"
                  >
                </div>

                <!-- Info -->
                <div class="cart-item-details">
                  <p class="cart-item-title">{{ item.product.title }}</p>

                  <!-- Quantity -->
                  <div class="cart-qty">
                    <button type="button" class="qty-btn">−</button>
                    <input
                      type="number"
                      name="updates[]"
                      value="{{ item.quantity }}"
                      min="0"
                    >
                    <button type="button" class="qty-btn">+</button>
                  </div>
                </div>

                <!-- Price & remove -->
                <div class="cart-item-meta">
                  <p class="cart-item-price">
                    {{ item.final_line_price | money }}
                  </p>

                  <a href="{{ item.url_to_remove }}" class="cart-remove">
                    REMOVE
                  </a>
                </div>

              </div>
            {% endfor %}

          </div>
        </div>

        <!-- =====================
             RIGHT COLUMN
        ====================== -->
        <aside class="cart-right">

          <!-- Summary -->
          <div class="cart-summary">
            <h3 class="summary-title">SUMMARY</h3>

            <div class="summary-row">
              <span>SUBTOTAL</span>
              <span>{{ cart.items_subtotal_price | money }}</span>
            </div>

            <button
              type="submit"
              name="checkout"
              class="checkout-btn"
            >
              CHECKOUT
            </button>

            <!-- Payment info -->
            <div class="payment-info">
              <p>
                Pay in 4 interest-free installments of
                <strong>{{ cart.total_price | divided_by: 4 | money }}</strong>
                with <strong>Shop Pay</strong>
              </p>

              <p>
                Buy now, pay with <strong>Klarna</strong>
              </p>
            </div>
          </div>

          <!-- Free sample -->
          <div class="cart-sample">
            <h3 class="sample-title">CHOOSE YOUR FREE SAMPLE</h3>

            <div class="sample-slider">
              <button class="slider-arrow prev">‹</button>

              <div class="sample-items">
                <div class="sample-item">
                  <img src="#" alt="">
                  <p>Detox Shampoo Packette</p>
                </div>

                <div class="sample-item">
                  <img src="#" alt="">
                  <p>Medium Hair Shampoo & Conditioner Packette</p>
                </div>

                <div class="sample-item">
                  <img src="#" alt="">
                  <p>Thick Hair Shampoo & Conditioner Packette</p>
                </div>
              </div>

              <button class="slider-arrow next">›</button>
            </div>
          </div>

        </aside>

      </div>
    </form>

  </div>
</section>


{% schema %}
{
  "name": "Cart",
  "settings": []
}
{% endschema %}
