{% comment %}
  Logo Snippet: Supports alternate logo for transparent header
{% endcomment %}



{% liquid
  assign logo_alt = settings.site_name | default: shop.name 
  assign transparent_logo = section.settings.transparent_logo
  assign transparent_header_active = false

  if template.name == 'index' and section.settings.enable_transparent_header
    assign transparent_header_active = true
  endif
%}

<a href="{{ routes.root_url }}" class="m-header__logo color-control">
  {% if settings.logo != blank %}
    {{ settings.logo 
      | image_url: width: 300 
      | image_tag: 
          class: 'm-logo__image m-logo__image--default dark-logo', 
          widths: '100,150,200,250,300,400,500', 
          sizes: '(max-width: 480px) 100px, (max-width: 768px) 150px, 300px', 
          alt: logo_alt,
          loading: 'lazy'
    }}
    {% if section.settings.white_logo != blank %}
      {{ section.settings.white_logo
        | image_url: width: 300 
        | image_tag: 
            class: 'm-logo__image m-logo__image--default light-logo', 
            widths: '100,150,200,250,300,400,500', 
            sizes: '(max-width: 480px) 100px, (max-width: 768px) 150px, 300px', 
            alt: logo_alt,
            loading: 'lazy'
      }}
    {% endif %}
  {% else %}
    <strong class="m-logo__image--default">{{ settings.site_name | default: shop.name }}</strong>
  {% endif %}

  {% if transparent_header_active and transparent_logo != blank %}
    {{ transparent_logo
      | image_url: width: 300 
      | image_tag: 
          class: 'm-logo__image m-logo__image--transparent', 
          widths: '100,150,200,250,300,400,500', 
          sizes: '(max-width: 480px) 100px, (max-width: 768px) 150px, 300px', 
          alt: logo_alt,
          loading: 'lazy'
    }}
  {% endif %}

</a>

<style>
  :root {
    --logo-desktop-width: {{ settings.logo_width_desktop }}px;
  }
  .m-logo__image {
    width: 100%;
    max-width: var(--logo-desktop-width);
    height: auto;
    display: block;
  }

  @media (max-width: 768px) {
    .m-logo__image {
      max-width: {{ settings.logo_width_tablet }}px;
    }
  }

  @media (max-width: 480px) {
    .m-logo__image {
      max-width: {{ settings.logo_width_mobile }}px;
    }
  }
</style>
{% if section.settings.white_logo != blank %}
  <style>
    .m-sidebar__content .light-logo,
    .m-sidebar__content .color-control.color-dark .light-logo,
   .m-sidebar__content .color-control.color-light .dark-logo
    {
      display: none;
    }
   .expended-area-active .light-logo,
   .expended-area-active .color-dark .light-logo,
   .expended-area-active .color-light .light-logo
    {
      display: none;
    }
    .expended-area-active .color-dark .dark-logo,
   .expended-area-active .color-light .dark-logo
    {
      display: block !important;
    }

  </style>
{% endif %}