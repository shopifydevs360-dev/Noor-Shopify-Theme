{% if product %}

<div
  class="product-card"
  data-cart-behavior="{{ section.settings.cart_behavior }}"
  data-product-id="{{ product.id }}"
>

  <!-- ================= IMAGE ================= -->
  <div class="image-wrap">
    <a href="{{ product.url }}" aria-label="{{ product.title }}">
      <div class="cropped-image-wrapper">

        {% if product.featured_image %}
          <img
            src="{{ product.featured_image | img_url: '533x' }}"
            alt="{{ product.featured_image.alt | escape }}"
            loading="lazy"
            width="{{ product.featured_image.width }}"
            height="{{ product.featured_image.height }}"
          >
        {% endif %}

        {% if product.images.size > 1 %}
          <img
            src="{{ product.images[1] | img_url: '533x' }}"
            alt="{{ product.images[1].alt | escape }}"
            class="hover-img"
            loading="lazy"
          >
        {% endif %}

      </div>
    </a>

    <!-- ================= QUICK ADD ================= -->
    <div class="ajax-quick-add-wrapper">

      {% if product.variants.size > 1 %}

        <div class="variants-outer-wrapper">
          <div class="variants-wrapper">
            {% for variant in product.variants %}
              <button
                type="button"
                class="js-quick-add-to-cart variant-btn text-only{% unless variant.available %} disabled{% endunless %}"
                data-variant-id="{{ variant.id }}"
                {% unless variant.available %}disabled{% endunless %}
              >
                <span>{{ variant.title }}</span>
                <span>{{ variant.price | money }}</span>
              </button>
            {% endfor %}
          </div>

          <button type="button" class="cta-btn text-only">
            Make Selection
          </button>
        </div>

      {% else %}

        {% assign variant = product.variants.first %}
        <form method="post" action="/cart/add" class="product-form">
          <input type="hidden" name="id" value="{{ variant.id }}">

          <button
            type="submit"
            class="js-quick-add-submit cta-btn text-only"
            {% unless variant.available %}disabled{% endunless %}
          >
            {% if variant.available %}
              Add to bag
            {% else %}
              Out of stock
            {% endif %}
          </button>
        </form>

      {% endif %}

    </div>
  </div>

  <!-- ================= INFO ================= -->
  <div class="product-info">
    <div class="split-aligner">
      <p class="title">
        <a href="{{ product.url }}">{{ product.title }}</a>
      </p>
      <p class="price">{{ product.price | money }}</p>
    </div>
  </div>

</div>

{% endif %}
