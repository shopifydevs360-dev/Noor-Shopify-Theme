



<script>
    // header.js
document.addEventListener('DOMContentLoaded', function() {
  // Drawer functionality
  const drawerToggles = document.querySelectorAll('[data-drawer-toggle]');
  const drawerCloses = document.querySelectorAll('[data-drawer-close]');
  
  drawerToggles.forEach(toggle => {
    toggle.addEventListener('click', function() {
      const drawerId = this.getAttribute('data-drawer-toggle');
      const drawer = document.getElementById(drawerId);
      
      if (drawer) {
        drawer.classList.add('open');
        document.body.style.overflow = 'hidden';
        
        // Add expanded class to menu drawer main when hovering over items with children
        if (drawerId === 'menu-drawer') {
          const menuItemsWithChildren = drawer.querySelectorAll('.menu__item--has-children');
          const drawerMain = drawer.querySelector('.drawer__main');
          
          menuItemsWithChildren.forEach(item => {
            item.addEventListener('mouseenter', function() {
              drawerMain.classList.add('expanded');
            });
            
            item.addEventListener('mouseleave', function() {
              drawerMain.classList.remove('expanded');
            });
          });
        }
      }
    });
  });
  
  drawerCloses.forEach(close => {
    close.addEventListener('click', function() {
      const drawer = this.closest('.drawer');
      
      if (drawer) {
        drawer.classList.remove('open');
        document.body.style.overflow = '';
      }
    });
  });
  
  // Close drawer when clicking outside
  document.addEventListener('click', function(event) {
    const openDrawer = document.querySelector('.drawer.open');
    
    if (openDrawer && !openDrawer.contains(event.target) && !event.target.closest('[data-drawer-toggle]')) {
      openDrawer.classList.remove('open');
      document.body.style.overflow = '';
    }
  });
  
  // Handle ESC key to close drawer
  document.addEventListener('keydown', function(event) {
    if (event.key === 'Escape') {
      const openDrawer = document.querySelector('.drawer.open');
      
      if (openDrawer) {
        openDrawer.classList.remove('open');
        document.body.style.overflow = '';
      }
    }
  });
});
</script>